// Editar un regalo
function editGift(giftId) {
    const row = document.querySelector(`tr[data-id="${giftId}"]`);
    if (!row) return;

    const name = row.cells[0].textContent;
    const description = row.cells[1].textContent;
    const price = row.cells[2].textContent;

    const gift = giftData.find(g => g.id === giftId);
    if (gift) {
        gift.name = name;
        gift.description = description;
        gift.price = price;
    }

    renderGiftList();
    updateGiftsTable();
}

// Eliminar un regalo
function deleteGift(giftId) {
    if (!confirm("¿Estás seguro de eliminar este regalo?")) return;
    
    const index = giftData.findIndex(g => g.id === giftId);
    if (index !== -1) {
        giftData.splice(index, 1);
    }

    renderGiftList();
    updateGiftsTable();
}

// Añadir un nuevo regalo evitando IDs duplicados
const newGiftForm = document.getElementById('new-gift-form');
newGiftForm.addEventListener('submit', (event) => {
    event.preventDefault();

    const newGiftName = document.getElementById('new-gift-name').value.trim();
    const newGiftDescription = document.getElementById('new-gift-description').value.trim();
    const newGiftPrice = document.getElementById('new-gift-price').value.trim();

    if (!newGiftName || !newGiftDescription || !newGiftPrice) {
        alert("Por favor, completa todos los campos.");
        return;
    }

    const newId = giftData.length > 0 ? Math.max(...giftData.map(g => g.id)) + 1 : 1;

    const newGift = {
        id: newId,
        name: newGiftName,
        description: newGiftDescription,
        price: newGiftPrice,
        reserved: false,
        reservedBy: ""
    };

    giftData.push(newGift);
    renderGiftList();
    updateG
